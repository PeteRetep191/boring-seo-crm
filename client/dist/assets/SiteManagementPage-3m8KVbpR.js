import{p as J,A as pe,l as xe,j as e,r as u,R as z,m as O,n as W,B as S,q as H,x as I,z as B,C as ge,D as ve}from"./index-fxWXY8PR.js";import{g as ye,h as je,C as be,d as Q,e as Se,f as ee,i as U}from"./chunk-SSA7SXE4-Di1q8YfC.js";import{u as Ne,a as Ce,D as we,r as ze,b as Le,c as Ee,S as Ie,v as Re,d as ke,P as Me,e as _e,C as He}from"./modifiers.esm-AhmLUfQy.js";var te=J((a,t)=>{var r;const{as:s,className:i,children:n,...o}=a,l=s||"div",c=pe(t),{slots:d,classNames:m}=ye(),p=xe(m?.footer,i);return e.jsx(l,{ref:c,className:(r=d.footer)==null?void 0:r.call(d,{class:p}),...o,children:n})});te.displayName="HeroUI.CardFooter";var De=te;function _(){return _=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},_.apply(null,arguments)}function Te(a,t){if(a==null)return{};var r={};for(var s in a)if({}.hasOwnProperty.call(a,s)){if(t.indexOf(s)!==-1)continue;r[s]=a[s]}return r}var Fe=u.useLayoutEffect,Pe=function(t){var r=z.useRef(t);return Fe(function(){r.current=t}),r},V=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},Ae=function(t,r){var s=z.useRef();return z.useCallback(function(i){t.current=i,s.current&&V(s.current,null),s.current=r,r&&V(r,i)},[r])},G={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},$e=function(t){Object.keys(G).forEach(function(r){t.style.setProperty(r,G[r],"important")})},q=$e,h=null,X=function(t,r){var s=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?s+r.borderSize:s-r.paddingSize};function Oe(a,t,r,s){r===void 0&&(r=1),s===void 0&&(s=1/0),h||(h=document.createElement("textarea"),h.setAttribute("tabindex","-1"),h.setAttribute("aria-hidden","true"),q(h)),h.parentNode===null&&document.body.appendChild(h);var i=a.paddingSize,n=a.borderSize,o=a.sizingStyle,l=o.boxSizing;Object.keys(o).forEach(function(x){var j=x;h.style[j]=o[j]}),q(h),h.value=t;var c=X(h,a);h.value=t,c=X(h,a),h.value="x";var d=h.scrollHeight-i,m=d*r;l==="border-box"&&(m=m+i+n),c=Math.max(m,c);var p=d*s;return l==="border-box"&&(p=p+i+n),c=Math.min(p,c),[c,d]}var Y=function(){},We=function(t,r){return t.reduce(function(s,i){return s[i]=r[i],s},{})},Be=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Ue=!!document.documentElement.currentStyle,Ve=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var s=We(Be,r),i=s.boxSizing;if(i==="")return null;Ue&&i==="border-box"&&(s.width=parseFloat(s.width)+parseFloat(s.borderRightWidth)+parseFloat(s.borderLeftWidth)+parseFloat(s.paddingRight)+parseFloat(s.paddingLeft)+"px");var n=parseFloat(s.paddingBottom)+parseFloat(s.paddingTop),o=parseFloat(s.borderBottomWidth)+parseFloat(s.borderTopWidth);return{sizingStyle:s,paddingSize:n,borderSize:o}},Ge=Ve;function D(a,t,r){var s=Pe(r);u.useLayoutEffect(function(){var i=function(o){return s.current(o)};if(a)return a.addEventListener(t,i),function(){return a.removeEventListener(t,i)}},[])}var qe=function(t,r){D(document.body,"reset",function(s){t.current.form===s.target&&r(s)})},Xe=function(t){D(window,"resize",t)},Ye=function(t){D(document.fonts,"loadingdone",t)},Ke=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Ze=function(t,r){var s=t.cacheMeasurements,i=t.maxRows,n=t.minRows,o=t.onChange,l=o===void 0?Y:o,c=t.onHeightChange,d=c===void 0?Y:c,m=Te(t,Ke),p=m.value!==void 0,x=u.useRef(null),j=Ae(x,r),f=u.useRef(0),v=u.useRef(),g=function(){var y=x.current,L=s&&v.current?v.current:Ge(y);if(L){v.current=L;var C=Oe(L,y.value||y.placeholder||"x",n,i),w=C[0],R=C[1];f.current!==w&&(f.current=w,y.style.setProperty("height",w+"px","important"),d(w,{rowHeight:R}))}},b=function(y){p||g(),l(y)};return u.useLayoutEffect(g),qe(x,function(){if(!p){var N=x.current.value;requestAnimationFrame(function(){var y=x.current;y&&N!==y.value&&g()})}}),Xe(g),Ye(g),u.createElement("textarea",_({},m,{onChange:b,ref:j}))},Je=u.forwardRef(Ze),ae=J(({style:a,minRows:t=3,maxRows:r=8,cacheMeasurements:s=!1,disableAutosize:i=!1,onHeightChange:n,...o},l)=>{const{Component:c,label:d,description:m,startContent:p,endContent:x,hasHelper:j,shouldLabelBeOutside:f,shouldLabelBeInside:v,isInvalid:g,errorMessage:b,getBaseProps:N,getLabelProps:y,getInputProps:L,getInnerWrapperProps:C,getInputWrapperProps:w,getHelperWrapperProps:R,getDescriptionProps:re,getErrorMessageProps:ne,isClearable:T,getClearButtonProps:F}=je({...o,ref:l,isMultiline:!0}),[ie,oe]=u.useState(t>1),[le,ce]=u.useState(!1),P=d?e.jsx("label",{...y(),children:d}):null,E=L(),de=(k,M)=>{if(t===1&&oe(k>=M.rowHeight*2),r>t){const me=k>=r*M.rowHeight;ce(me)}n?.(k,M)},A=i?e.jsx("textarea",{...E,style:O(E.style,a??{})}):e.jsx(Je,{...E,cacheMeasurements:s,"data-hide-scroll":W(!le),maxRows:r,minRows:t,style:O(E.style,a??{}),onHeightChange:de}),ue=u.useMemo(()=>T?e.jsx("button",{...F(),children:e.jsx(be,{})}):null,[T,F]),fe=u.useMemo(()=>p||x?e.jsxs("div",{...C(),children:[p,A,x]}):e.jsx("div",{...C(),children:A}),[p,E,x,C]),$=g&&b,he=$||m;return e.jsxs(c,{...N(),children:[f?P:null,e.jsxs("div",{...w(),"data-has-multiple-rows":W(ie),children:[v?P:null,fe,ue]}),j&&he?e.jsx("div",{...R(),children:$?e.jsx("div",{...ne(),children:b}):e.jsx("div",{...re(),children:m})}):null]})});ae.displayName="HeroUI.Textarea";var Qe=ae;/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tt=S("chevron-left",et);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],st=S("chevron-right",at);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],nt=S("grip-vertical",rt);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],ot=S("inbox",it);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ct=S("plus",lt);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ut=S("save",dt);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["path",{d:"M12 18.338a2.1 2.1 0 0 0-.987.244L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.12 2.12 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.12 2.12 0 0 0 1.597-1.16l2.309-4.679A.53.53 0 0 1 12 2",key:"2ksp49"}]],ht=S("star-half",ft);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pt=S("star",mt);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gt=S("trash-2",xt),vt={isExpanded:!0},yt=({children:a,title:t="Showcases Panel",headerChildren:r,footerChildren:s})=>{const[i,n]=H(vt),o=()=>{n(l=>{l.isExpanded=!l.isExpanded})};return e.jsxs("div",{className:"flex relative",children:[e.jsxs(Q,{shadow:"none",radius:"none",className:`${i.isExpanded?"w-[400px]":"w-[50px]"} transition-all duration-300`,children:[e.jsx(Se,{className:"pt-1 min-h-7",children:r}),e.jsx(ee,{className:"p-0",children:i.isExpanded?e.jsx("div",{className:"p-2 h-full",children:a}):e.jsx("div",{className:"flex justify-center items-center h-full p-2",children:e.jsx("div",{className:"inline-block rotate-90 whitespace-nowrap origin-center",children:t})})}),e.jsx(De,{children:s})]}),e.jsx(I,{isIconOnly:!0,size:"sm",color:"primary",onPress:o,className:"absolute top-0 -left-8 z-5 bg-black/30 rounded-none hover:bg-black/90",children:i.isExpanded?e.jsx(st,{size:16}):e.jsx(tt,{size:16})})]})},jt=(a,t={})=>{const r=a.trim().toLowerCase(),s=a.trim().toUpperCase();if((t.provider??"flagcdn")==="flagcdn"){if((t.format??"svg")==="svg")return`https://flagcdn.com/${r}.svg`;const l=t.size??64,c=Math.round(l*.75);return`https://flagcdn.com/${l}x${c}/${r}.png`}const n=String(t.size??64),o=t.style??"flat";return`https://flagsapi.com/${s}/${o}/${n}.png`},bt=({flag:a})=>e.jsx("div",{className:"h-5 w-5 rounded-full overflow-hidden",children:e.jsx("img",{src:jt(a,{}),alt:a,className:"object-cover h-full w-full"})}),St=({value:a,max:t=5,size:r=18,className:s="",colorClass:i="text-yellow-400"})=>{const n=Math.max(0,Math.min(a,t)),o=Math.floor(n),l=n-o>=.5?1:0;return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:`inline-flex items-center gap-0 ${s}`,children:[Array.from({length:o}).map((c,d)=>e.jsx(pt,{size:r,className:i,fill:"currentColor",stroke:"none"},`f${d}`)),l===1&&e.jsx(ht,{size:r,className:i,fill:"currentColor",stroke:"none"},"half")]}),e.jsxs("span",{className:"text-xs",children:["(",a," / ",t,")"]})]})};function Nt({items:a,renderItem:t,onChange:r,children:s,className:i}){const[n,o]=H(a),l=z.useRef(!1);u.useEffect(()=>{l.current=!0,o(()=>a)},[a,o]),u.useEffect(()=>{if(l.current){l.current=!1;return}r?.(n)},[n,r]);const c=Ne(Ce(Me,{activationConstraint:{distance:5}})),d=u.useMemo(()=>n.map(f=>f.id),[n]),m=f=>{const{active:v,over:g}=f;if(!g||v.id===g.id)return;const b=d.indexOf(String(v.id)),N=d.indexOf(String(g.id));b<0||N<0||o(y=>ke(y,b,N))},p=f=>{o(v=>{const g=v.findIndex(b=>b.id===f);g>=0&&v.splice(g,1)})},x=K(s,se),j=K(s,wt);return e.jsxs("div",{className:i,children:[x&&e.jsx("div",{className:"mb-2",children:x}),e.jsx(we,{sensors:c,collisionDetection:Ee,onDragEnd:m,modifiers:[ze,Le],children:e.jsx(Ie,{items:d,strategy:Re,children:e.jsx("div",{className:"space-y-2",children:Array.isArray(n)&&n.length>0?n.map((f,v)=>e.jsx(Ct,{id:f.id,onRemove:()=>p(f.id),children:t(f,v)},f.id)):e.jsxs("div",{className:"flex items-center justify-center flex-col gap-2",children:[e.jsx(ot,{size:40}),e.jsx("span",{children:"No items yet..."})]})})})}),j&&e.jsx("div",{className:"mt-2",children:j})]})}function Ct({id:a,onRemove:t,children:r}){const{attributes:s,listeners:i,setNodeRef:n,transform:o,transition:l,isDragging:c}=_e({id:a}),d={transform:He.Transform.toString(o),transition:l,opacity:c?.6:1};return e.jsx("div",{ref:n,style:d,children:e.jsx(Q,{shadow:"none",radius:"sm",children:e.jsxs(ee,{className:"relative flex flex-row items-center gap-2 p-0 pr-2",children:[e.jsx(I,{radius:"none",isIconOnly:!0,variant:"flat",color:"primary",title:"Drag",...s,...i,className:"absolute t-0 b-0 r-0 l-0 w-[35px] min-w-[35px] h-full",children:e.jsx(nt,{size:20})}),e.jsx("div",{className:"flex-1 min-w-0 py-2 pl-12",children:r}),e.jsx(I,{size:"sm",isIconOnly:!0,variant:"flat",color:"danger",title:"Remove",children:e.jsx(gt,{size:16})})]})})})}const se=({children:a})=>e.jsx(e.Fragment,{children:a}),wt=({children:a})=>e.jsx(e.Fragment,{children:a}),K=(a,t)=>z.Children.toArray(a).find(s=>z.isValidElement(s)&&s.type===t)||null,zt={isSubmitting:!1,isValid:!0,formData:{name:"",description:"",url:"",tags:[],apiDocumentation:"",defaultOffersIds:[],assignedOffersIds:[],showcases:[]}},Lt=()=>{const[a,t]=H(zt),r=async n=>{n?.preventDefault(),t(o=>{o.isSubmitting=!0});try{await new Promise(l=>setTimeout(l,2e3));const o={};B.success("Login successful!")}catch{B.error("Login failed. Please try again.")}finally{t(o=>{o.isSubmitting=!1})}},s=()=>{const{name:n="",url:o=""}=a.formData,l=n.trim().length>0&&o.trim().length>0;t(c=>{c.isValid=l})},i=()=>{t(n=>{n.formData.name="",n.formData.url="",n.formData.tags=[]})};return u.useEffect(()=>{s()},[a.formData]),{state:a,actions:{handleSubmit:r,update:t,validate:s,resetForm:i}}},Z=[{id:"1",label:"US Exclusive Offer",flags:["US","CA","MX"]},{id:"2",label:"North America Special",flags:["CA","MX"]},{id:"3",label:"UK Premium Deal",flags:["GB"]},{id:"4",label:"European Bundle",flags:["FR","ES","IT"]},{id:"5",label:"German Discount",flags:["DE"]}],kt=()=>{const{siteId:a}=ge(),t=Lt(),[r,s]=u.useState(Z);return e.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-medium",children:a?`Edit Site ${a}`:"Create New Site"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-[14px]",children:["Last Modified: ",a?e.jsx("strong",{children:t.state.formData.name}):ve(!0)]}),e.jsx(I,{radius:"sm",size:"md",variant:"solid",color:"primary",endContent:e.jsx(ut,{size:18}),children:"Save"})]})]}),e.jsxs("div",{className:"flex h-full gap-10",children:[e.jsxs("div",{className:"flex-3",children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(U,{radius:"sm",label:"Site Name",placeholder:"Enter site name",value:t.state.formData.name,onChange:i=>t.actions.update(n=>{n.formData.name=i.target.value}),className:"flex-2 mb-4"}),e.jsx(U,{radius:"sm",label:"Website URL",placeholder:"Enter website URL",value:t.state.formData.url,onChange:i=>t.actions.update(n=>{n.formData.url=i.target.value}),className:"flex-5 mb-4",classNames:{input:"bg-gray-500"}})]}),e.jsx(Qe,{radius:"sm",label:"Description",placeholder:"Enter description",value:t.state.formData.description,onChange:i=>t.actions.update(n=>{n.formData.description=i.target.value}),className:"flex-5 mb-4"}),e.jsx(Nt,{items:Z,renderItem:i=>e.jsxs("div",{className:"flex items-center justify-start gap-2",children:[e.jsx("img",{src:"https://placehold.co/400x400?text=Hello+World",className:"h-12 w-12 object-cover"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"truncate",children:i.label}),e.jsx(St,{value:3.5})]}),e.jsx("div",{className:"flex space-x-1",children:i.flags.map(n=>e.jsx(bt,{flag:n},n))})]})]}),onChange:s,children:e.jsx(se,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"Default showcase"}),e.jsx(I,{size:"sm",variant:"solid",color:"primary",startContent:e.jsx(ct,{size:16}),className:"ml-4",children:"Add Offers"})]})})})]}),e.jsx(yt,{children:"1"})]})]})};export{kt as default};
